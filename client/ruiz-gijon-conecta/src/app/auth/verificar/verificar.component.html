<div class="d-flex flex-column mx-2 mb-3" style="min-height: calc(100dvh - 220px);">

    <div
        class="d-flex flex-column flex-grow-1 bg-white rounded-2 shadow p-4 justify-content-center align-items-center text-center">

        <ng-container [ngSwitch]="estado">

            <!-- Verificando... -->
            <div *ngSwitchCase="'cargando'">
                <div class="spinner-border text-primary mb-3" role="status">
                    <span class="visually-hidden">Verificando...</span>
                </div>
                <h4 class="text-primary fw-semibold">Verificando tu dirección de correo...</h4>
                <p class="text-muted mt-2">Por favor, espera unos segundos.</p>
            </div>

            <!-- Verificación correcta -->
            <div *ngSwitchCase="'ok'">
                <i class="bi bi-check-circle-fill fs-1 text-success mb-3"></i>
                <h4 class="text-success fw-semibold">¡Correo verificado correctamente!</h4>
                <p class="text-muted mt-2">Ya puedes iniciar sesión con tu cuenta.</p>
                <a routerLink="/login" class="btn btn-primary mt-4 px-4">Ir al inicio de sesión</a>
            </div>

            <!-- Error en la verificación -->
            <div *ngSwitchCase="'error'">
                <i class="bi bi-x-circle-fill fs-1 text-danger mb-3"></i>
                <h4 class="text-danger fw-semibold">❌ Error al verificar</h4>
                <p class="text-muted mt-2">
                    El enlace puede haber expirado, ya fue utilizado o es inválido.
                </p>
                <!-- Reenvío del enlace -->
                <div class="mt-4">
                    <label for="email" class="form-label">¿Quieres recibir un nuevo enlace?</label>
                    <input type="email" [(ngModel)]="email" class="form-control mb-2"
                        placeholder="Introduce tu correo" />

                    <button (click)="reenviarEnlace()" class="btn btn-outline-primary">Reenviar enlace</button>

                    <div *ngIf="mensajeReenvio" class="mt-3 text-success">
                        {{ mensajeReenvio }}
                    </div>
                </div>
            </div>

        </ng-container>

    </div>
</div>
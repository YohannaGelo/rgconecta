<div class="d-flex flex-column flex-grow-1 my-3" style="min-height: calc(100vh - 220px);">

    <section class="row justify-content-end my-3 mx-2">
        <div class="col-xl-9 row gap-2 justify-content-end">
            <!-- Tecnolog칤a -->
            <div class="col-sm-4 col-md-3 p-0">
                <ng-select [items]="tecnologias" bindLabel="" placeholder="游눠 Habilidades"
                    [(ngModel)]="filtroTecnologia" (change)="aplicarFiltros()" class="shadow rounded-1 w-100">
                </ng-select>
            </div>

            <!-- Experiencia -->
            <div class="col-sm-4 col-md-3 p-0">
                <ng-select [items]="['m치s de 1 a침o', 'm치s de 5 a침os', 'm치s de 10 a침os']" placeholder="游꿢 Experiencias"
                    [(ngModel)]="filtroExperiencia" (change)="aplicarFiltros()" class="shadow rounded-1 w-100">
                </ng-select>
            </div>

            <!-- Situaci칩n -->
            <div class="col-sm-3 col-md-3 p-0">
                <ng-select [items]="['Trabajando', 'Desempleado', 'Buscando empleo']" placeholder="游눺 Situaci칩n"
                    [(ngModel)]="filtroSituacion" (change)="aplicarFiltros()" class="shadow rounded-1 w-100">
                </ng-select>
            </div>
        </div>
    </section>

    <div class="flex-grow-1 mb-3 mx-2">
        <div class="row row-cols-1 row-cols-sm-2 row-cols-lg-3 row-cols-xl-4 row-cols-xl-4 g-3">
            <div class="col" *ngFor="let alumno of alumnos">

                <!-- Cards -->
                <div class="card h-100 shadow-sm py-3">
                    <div class="card-body d-flex flex-column">
                        <div class="d-flex justify-content-between">
                            <p [ngClass]="getSituacionClase(alumno.situacion_laboral)"
                                class="rounded-5 py-0 px-3 pe-none">
                                {{ getSituacionTexto(alumno.situacion_laboral) }}
                            </p>

                            <p class="text-secondary">{{ calcularEdad(alumno.fecha_nacimiento) }} a침os</p>
                        </div>
                        <div class="d-flex align-items-start mb-4">
                            <img [src]="getFotoPerfil(alumno.user.foto_perfil)" alt="Imagen de perfil"
                                class="rounded-circle me-3" style="width: 80px; height: 80px; object-fit: cover;" />

                            <div>
                                <p class="text-secondary mb-2 small" style="min-height: 2rem;">
                                    {{ alumno.titulo_profesional || 'Sin t칤tulo' }}
                                </p>
                                <h5 class="card-title mt-0" style="min-height: 2.5rem;">
                                    {{ alumno.user.name }}
                                </h5>
                            </div>
                        </div>
                        <article
                            class="d-flex bg-light justify-content-evenly py-2 my-3 mt-auto text-secondary rounded">
                            <i class="bi bi-clock-history fs-6 mx-2 fst-normal">
                                {{ calcularExperiencia(alumno.experiencias) }} a침os experiencia
                            </i>
                        </article>
                        <a [routerLink]="['/alumnos', alumno.id]" class="text-primary text-decoration-none fw-semibold">
                            Ver Detalles <i class="bi bi-arrow-right fs-6 me-2 fw-bolder"></i>
                        </a>

                    </div>
                </div>
            </div>
        </div>
    </div>

    <div class="mb-3 d-flex justify-content-between mx-2">
        <button class="btn btn-primary" [disabled]="currentPage <= 1" (click)="cambiarPagina(currentPage - 1)">
            <i class="bi bi-arrow-left text-white"></i>
        </button>
        <button class="btn btn-primary" [disabled]="currentPage >= lastPage" (click)="cambiarPagina(currentPage + 1)">
            <i class="bi bi-arrow-right text-white"></i>
        </button>
    </div>

</div>